{% extends "layout.html" %}

{% block body %}
<div class="container mb-3">
    <form action="/diary" method="get">
        <div class="mb-3">
            <input type="date" name="date" class="form-control">
        </div>
        <div class="mb-3">
            <button type="submit" class="btn btn-primary">Enter</button>
        </div>
    </form>
</div>
{% if session["date"] %}
<div class="container py-3">
    <h3>{{ session["date"] }}</h3>
</div>
<div class="container mb-3">
    <h3>Add an Exercise</h3>
</div>
<div class="container mb-3">
    <form action="/diary" method="post">
        <div class="mb-3">
            <input type="text" name="exercise" class="form-control-lg" placeholder="Exercise">
        </div>
        <button type="submit" class="btn btn-primary btn-lg">Add Exercise</button>
    </form>
</div>
<div class="container mb-3">
    <h3>Delete an Exercise</h3>
</div>
<div class="container mb-3">
    <form action="/diary" method="post">
        <div class="mb-3">
            <select class="form-select" aria-label="Default select example" name="exercise-del">
                <option selected disabled>--- Choose an Exercise ---</option>
                {% for e in exercises %}
                <option value="{{ e[1] }}">{{ e[1] }}</option>
                {% endfor %}
            </select>
        </div>
        <button type="submit" class="btn btn-primary btn-lg">Delete Exercise</button>
    </form>
</div>
<div class="container mb-3">
    <h3>Add an Entry</h3>
</div>
<div class="container mb-3">
    <form action="/diary" method="post">
        <div class="mb-3">
            <select class="form-select" aria-label="Default select example" name="exercise-select">
                <option selected disabled>--- Choose an Exercise ---</option>
                {% for e in exercises %}
                <option value="{{ e[1] }}">{{ e[1] }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="mb-3">
            <input type="text" name="weight" class="form-control-lg" placeholder="Weight">
        </div>
        <div class="mb-3">
            <select class="form-select" aria-label="Default select example" name="units">
                <option selected disabled>--- Pick a Unit ---</option>
                <option value="kg">kg</option>
                <option value="lbs">lbs</option>
              </select>
        </div>
        <div class="mb-3">
            <input type="text" name="sets" class="form-control-lg" placeholder="Sets">
        </div>
        <div class="mb-3">
            <input type="text" name="reps" class="form-control-lg" placeholder="Reps">
        </div>
        <button type="submit" class="btn btn-primary btn-lg">Add Entry</button>
    </form>
</div>
<div class="container py-3">
    <h3>Today's Entries</h3>
</div>
<div class="container mb-3">
    <table class="table">
        <thead>
            <tr>
                <th scope="col">Exercise</th>
                <th scope="col">Weight</th>
                <th scope="col">Units</th>
                <th scope="col">Sets</th>
                <th scope="col">Reps</th>
                <th scope="col"></th>
            </tr>
        </thead>
        <tbody>
            {% for entry in entries %}
            <tr>
                <td>{{ entry[2] }}</td>
                <td>{{ entry[3] }}</td>
                <td>{{ entry[4] }}</td>
                <td>{{ entry[5] }}</td>
                <td>{{ entry[6] }}</td>
                <td>
                    <form action="/diary" method="post">
                        <input type="hidden" name="id" value="{{ entry[0] }}">
                        <button type="submit" class="btn btn-link">Delete</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
<script>
    let element = document.querySelector("#diary")
    element.classList.add("active")
    element.setAttribute("aria-current", "page")
</script>
{% endif %}
{% endblock %}